---
import { Button } from "@components/ui/button";
---


<Button id="auth-sign-in-button" className="auth-sign-in-button">
    Iniciar sesi√≥n
</Button>

<script>
    import { auth } from "@lib/authStore";
    auth.subscribe((clerk) => {
        if (clerk?.loaded) {
            const signInButton = document.getElementById(
                "auth-sign-in-button",
            )!;

            const signInButtons = document.querySelectorAll(
                ".auth-sign-in-button",
            )!;
            signInButtons.forEach((el) => {
                el.addEventListener("click", () => {
                    console.log("click");
                    clerk.openSignIn({
                        afterSignInUrl: "/cursos/root-program",
                        afterSignUpUrl: "/cursos/root-program",
                    });
                });
            });
            if (signInButton) {
                signInButton.addEventListener("click", () => {
                    console.log("click");
                    clerk.openSignIn({
                        afterSignInUrl: "/cursos/root-program",
                        afterSignUpUrl: "/cursos/root-program",
                    });
                });
            }
        }
    });
</script>
